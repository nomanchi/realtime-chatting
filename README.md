# ì‹¤ì‹œê°„ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜

Next.jsì™€ Socket.io ê¸°ë°˜ ì‹¤ì‹œê°„ ë©€í‹°ìœ ì € ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. Flutter WebViewì™€ PC Browser í™˜ê²½ì„ ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.

![Next.js](https://img.shields.io/badge/Next.js-16.0.7-black?logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?logo=typescript)
![Socket.io](https://img.shields.io/badge/Socket.io-4.8.1-white?logo=socket.io)
![TailwindCSS](https://img.shields.io/badge/TailwindCSS-4-38B2AC?logo=tailwind-css)

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ”„ **ì‹¤ì‹œê°„ ë©”ì‹œì§•**: Socket.ioë¥¼ í†µí•œ ì¦‰ê°ì ì¸ ë©”ì‹œì§€ ì „ì†¡/ìˆ˜ì‹ 
- ğŸ‘¥ **ë©€í‹°ìœ ì € ì§€ì›**: ì—¬ëŸ¬ ì‚¬ìš©ì ë™ì‹œ ì ‘ì† ë° ì±„íŒ…
- ğŸ“± **í”Œë«í¼ ë¶„ë¦¬**: Flutter WebView ë° PC Browser ìµœì í™” UI
- ğŸŒ“ **ë‹¤í¬ ëª¨ë“œ**: ìë™ ë‹¤í¬ ëª¨ë“œ ì§€ì›
- ğŸ“Š **ì‹¤ì‹œê°„ ì‚¬ìš©ì ëª©ë¡**: ì ‘ì† ì¤‘ì¸ ì‚¬ìš©ì ì‹¤ì‹œê°„ í‘œì‹œ
- ğŸ’¬ **ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬**: ì´ì „ ë©”ì‹œì§€ ìë™ ë¡œë“œ
- ğŸ”Œ **ìë™ ì¬ì—°ê²°**: ì—°ê²° ëŠê¹€ ì‹œ ìë™ ë³µêµ¬

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Next.js 16.0.7 (App Router)
- **Language**: TypeScript 5
- **Styling**: TailwindCSS 4
- **State Management**: Zustand 5
- **Data Fetching**: @tanstack/react-query 5
- **Icons**: Lucide React
- **Date**: date-fns 4

### Backend
- **Real-time**: Socket.io 4.8.1
- **Server**: Custom Next.js Server
- **Runtime**: Node.js with tsx

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 20 ì´ìƒ
- npm ë˜ëŠ” yarn

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/yourusername/realtime-chatting.git
cd realtime-chatting

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install
```

### ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ (í¬íŠ¸ 3002)
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
npm start
```

ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´:
- **ë¡œì»¬**: http://localhost:3002
- **ë„¤íŠ¸ì›Œí¬**: http://YOUR_IP:3002

## ğŸ“– ì‚¬ìš© ë°©ë²•

### PC ë¸Œë¼ìš°ì €ì—ì„œ

1. http://localhost:3002/browser ì ‘ì†
2. ì´ë¦„ ì…ë ¥
3. "ì±„íŒ… ì°¸ì—¬í•˜ê¸°" í´ë¦­
4. ì±„íŒ… ì‹œì‘!

**íŠ¹ì§•:**
- ìš°ì¸¡ ì‚¬ì´ë“œë°”ì— ì˜¨ë¼ì¸ ì‚¬ìš©ì ëª©ë¡ í‘œì‹œ
- ë„“ì€ í™”ë©´ ë ˆì´ì•„ì›ƒ

### ëª¨ë°”ì¼/WebViewì—ì„œ

1. http://YOUR_IP:3002/webview ì ‘ì†
2. ì´ë¦„ ì…ë ¥
3. "ì°¸ì—¬í•˜ê¸°" í´ë¦­
4. ì±„íŒ… ì‹œì‘!

**íŠ¹ì§•:**
- ëª¨ë°”ì¼ ìµœì í™” UI
- í„°ì¹˜ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤

### ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ì ‘ì†

ê°™ì€ WiFi ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ ê¸°ê¸°ì—ì„œ:

1. PCì—ì„œ IP ì£¼ì†Œ í™•ì¸:
   ```bash
   # Windows
   ipconfig

   # Mac/Linux
   ifconfig
   ```

2. ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ `http://YOUR_IP:3002` ì ‘ì†

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
realtime-chatting/
â”œâ”€â”€ server.ts                    # Socket.io ì»¤ìŠ¤í…€ ì„œë²„
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ page.tsx            # í”Œë«í¼ ìë™ ê°ì§€ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸
â”‚   â”‚   â”œâ”€â”€ browser/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # PC ë¸Œë¼ìš°ì € í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ webview/
â”‚   â”‚       â””â”€â”€ page.tsx        # Flutter WebView í˜ì´ì§€
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 # UI ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ avatar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â””â”€â”€ scroll-area.tsx
â”‚   â”‚   â””â”€â”€ chat/               # ì±„íŒ… ì»´í¬ë„ŒíŠ¸
â”‚   â”‚       â”œâ”€â”€ ChatHeader.tsx
â”‚   â”‚       â”œâ”€â”€ MessageInput.tsx
â”‚   â”‚       â””â”€â”€ MessageList.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ platform.ts         # í”Œë«í¼ ê°ì§€
â”‚   â”‚   â”œâ”€â”€ socket.ts           # Socket.io í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ utils.ts            # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ chat-store.ts       # Zustand ìŠ¤í† ì–´
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ chat.ts             # TypeScript íƒ€ì…
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”Œ Socket.io ì´ë²¤íŠ¸

### í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„

| ì´ë²¤íŠ¸ | ì„¤ëª… | ë°ì´í„° |
|--------|------|--------|
| `user:join` | ì‚¬ìš©ì ì…ì¥ | `userName: string` |
| `message:send` | ë©”ì‹œì§€ ì „ì†¡ | `Message` |

### ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸

| ì´ë²¤íŠ¸ | ì„¤ëª… | ë°ì´í„° |
|--------|------|--------|
| `users:list` | ì‚¬ìš©ì ëª©ë¡ ì—…ë°ì´íŠ¸ | `User[]` |
| `messages:history` | ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ | `Message[]` |
| `message:received` | ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  | `Message` |

## ğŸŒ ë°°í¬

### Vercel (Frontend Only)

```bash
npm i -g vercel
vercel --prod
```

> âš ï¸ **ì£¼ì˜**: Vercelì˜ Serverless í™˜ê²½ì—ì„œëŠ” Socket.ioê°€ ì œí•œì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

### ì™„ì „í•œ WebSocket ì§€ì› (ì¶”ì²œ)

Socket.io ì„œë²„ë¥¼ ìœ„í•œ ì „ìš© í˜¸ìŠ¤íŒ…:

- **Railway.app** (ì¶”ì²œ)
- **Render.com** (ë¬´ë£Œ í‹°ì–´)
- **Heroku**
- **ìì²´ VPS** (DigitalOcean, AWS EC2)

ë°°í¬ í›„ `src/lib/socket.ts`ì—ì„œ ì„œë²„ URL ì—…ë°ì´íŠ¸:

```typescript
const serverUrl = typeof window !== 'undefined'
  ? `${window.location.protocol}//${window.location.hostname}:3002`
  : 'https://your-deployed-server.com'  // ë°°í¬ëœ ì„œë²„ URLë¡œ ë³€ê²½
```

## ğŸ“± Flutter í†µí•©

```dart
import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';

class ChatWebView extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SafeArea(
        child: WebView(
          initialUrl: 'https://your-app-url.com/webview',
          javascriptMode: JavascriptMode.unrestricted,
          userAgent: 'flutter-webview',
        ),
      ),
    );
  }
}
```

## ğŸ”§ í™˜ê²½ ì„¤ì •

### ë°©í™”ë²½ ì„¤ì • (Windows)

ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ì ‘ì†í•˜ë ¤ë©´:

```powershell
# ê´€ë¦¬ì ê¶Œí•œ PowerShell
netsh advfirewall firewall add rule name="Next.js Dev Server" dir=in action=allow protocol=TCP localport=3002
```

## ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ìƒ‰ìƒ í…Œë§ˆ ë³€ê²½

`src/app/globals.css`ì—ì„œ CSS ë³€ìˆ˜ ìˆ˜ì •:

```css
:root {
  --primary: 221 83% 53%;        /* íŒŒë€ìƒ‰ */
  --background: 0 0% 100%;       /* í°ìƒ‰ */
  /* ... */
}
```

### í¬íŠ¸ ë³€ê²½

`server.ts`ì—ì„œ:

```typescript
const port = 3002  // ì›í•˜ëŠ” í¬íŠ¸ë¡œ ë³€ê²½
```

## ğŸ› ë¬¸ì œ í•´ê²°

### ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ì—°ê²° ì•ˆ ë¨

1. ë°©í™”ë²½ ì„¤ì • í™•ì¸
2. ê°™ì€ WiFi ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
3. IP ì£¼ì†Œ í™•ì¸ (`ipconfig` ë˜ëŠ” `ifconfig`)

### ë©”ì‹œì§€ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŒ

1. ì„œë²„ ë¡œê·¸ í™•ì¸
2. ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸
3. Socket.io ì—°ê²° ìƒíƒœ í™•ì¸ (í—¤ë”ì˜ ì—°ê²° ìƒíƒœ)

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ‘¤ ì‘ì„±ì

**ì •ì˜ì„±**
- Email: esjeong@apti.co.kr

## ğŸ™ ê°ì‚¬ì˜ ë§

- [Next.js](https://nextjs.org/)
- [Socket.io](https://socket.io/)
- [TailwindCSS](https://tailwindcss.com/)
- [Zustand](https://zustand-demo.pmnd.rs/)

---

â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!
